<html>
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Duración del Embarazo</title>
    <style>
        body {
            background-image: url('https://dopniceu5am9m.cloudfront.net/static/assets/230705/aiSaasBackground2x.png');
            background-size: cover;
            background-repeat: no-repeat;
            margin: 0;
            padding: 20px;
            color: white; /* Cambia el color del texto si es necesario */
        }
    </style>
</head>
<body>
    <header class="bg-white bg-opacity-50 backdrop-blur-md p-4 rounded-lg shadow-lg">
        <h1 class="text-4xl font-bold font-ak-regular text-black">
            Visualizador de Duración del Embarazo
        </h1>
    </header>
      
    <div class="p-8"> 
        <p class="text-black font-bold text-justify">
            Esta aplicación calcula la duración actual del embarazo en semanas y días basándose en la fecha de la última menstruación, y genera fotos que comparan el tamaño del bebé con varias frutas.
        </p>
    </div>
    
    <form class="mb-8 flex flex-col" id="pregnancyForm" onsubmit="return calcularDuracion(event)">
        
        <div class="flex flex-col items-center bg-white bg-opacity-50 backdrop-blur-md rounded-lg shadow-lg">
            <label class="mt-8 mb-4 mr-2 text-gray-500 font-bold" for="lastMenstruationDate">Fecha de Última Menstruación</label>
            <input class="mb-4 w-2/3 border border-gray-300 p-2 rounded-lg shadow-sm text-black focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent mb-2" id="lastMenstruationDate" name="lastMenstruationDate" type="date" required />
            
            <button class="mb-8 w-1/3 border border-gray-400 p-2 rounded-lg shadow-sm bg-black text-white hover:bg-opacity-80 hover:shadow-lg transition duration-300" type="submit">
              Enviar
            </button>
          </div>
          
          
    </form>

    <div id="result" class="hidden" style="display: none; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px); padding: 20px; border-radius: 10px;">
        <h2 class="text-white">Duración del Embarazo</h2>
        <p id="durationText" class="text-white"></p>
        <h2 class="text-white">Visualizaciones</h2>
        <div>
            <img class="mb-8" id="babySizeImage" alt="Visualización del tamaño del bebé" src="" style="border-radius: 15px; border: 3px solid white;"/>

            <img class="mb-8" id="fruitSizeImage" alt="Comparación de tamaño de fruta" src="" style="border-radius: 15px;"/>
        </div>
    </div>
    

    <div id="fullscreenView" style="display:none;" onclick="cerrarFullscreen()">
        <img id="fullscreenImage" src="" alt="Imagen en pantalla completa"/>
    </div>

    <script>
        const babySizeImages = [
"https://assets.babycenter.com/ims/2015/01/pregnancy-week-2-fertilization.jpg",
"https://assets.babycenter.com/ims/2015/01/pregnancy-week-2-fertilization.jpg"

        ];

        const fruitSizeImages = [
        "https://assets.babycenter.com/ims/2015/01/pregnancy-week-2-fertilization.jpg",
"https://assets.babycenter.com/ims/2015/01/pregnancy-week-2-fertilization.jpg",
];


        function calcularDuracion(event) {
            event.preventDefault();

            const inputDate = document.getElementById('lastMenstruationDate').value;
            const lastMenstruationDate = new Date(inputDate);
            const today = new Date();
            const diffInMilliseconds = today - lastMenstruationDate;
            const diffInDays = Math.floor(diffInMilliseconds / (1000 * 60 * 60 * 24));
            const weeks = Math.floor(diffInDays / 7);
            const days = diffInDays % 7;

            document.getElementById('durationText').innerText = `La duración actual del embarazo es de ${weeks} semanas y ${days} días.`;
            document.getElementById('result').style.display = 'block';

            if (weeks >= 1 && weeks <= 40) {
                document.getElementById('babySizeImage').src = babySizeImages[weeks - 1];
                document.getElementById('fruitSizeImage').src = fruitSizeImages[weeks - 1];
            } else {
                document.getElementById('babySizeImage').src = '';
                document.getElementById('fruitSizeImage').src = '';
            }
        }

        document.querySelectorAll('img').forEach(image => {
            image.addEventListener('click', () => {
                abrirFullscreen(image.src);
            });
        });

        function abrirFullscreen(src) {
            const fullscreenView = document.getElementById('fullscreenView');
            const fullscreenImage = document.getElementById('fullscreenImage');
            fullscreenImage.src = src;
            fullscreenView.style.display = 'block';
        }

        function cerrarFullscreen() {
            const fullscreenView = document.getElementById('fullscreenView');
            fullscreenView.style.display = 'none';
        }
    </script>
</body>
</html>
